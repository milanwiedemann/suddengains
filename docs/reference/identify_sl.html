<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Identify sudden losses. — identify_sl • suddengains</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Identify sudden losses. — identify_sl"><meta property="og:description" content="Function to identify sudden losses in longitudinal data structured in wide format."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">suddengains</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/shinygains.html">shinygains: An interactive illustration of the suddengains R package</a>
    </li>
    <li>
      <a href="../articles/suddengains-tutorial.html">A tutorial on using the suddengains R package</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/milanwiedemann/suddengains/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Identify sudden losses.</h1>
    <small class="dont-index">Source: <a href="https://github.com/milanwiedemann/suddengains/blob/HEAD/R/identify_sl.R" class="external-link"><code>R/identify_sl.R</code></a></small>
    <div class="hidden name"><code>identify_sl.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to identify sudden losses in longitudinal data structured in wide format.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">identify_sl</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">id_var_name</span>,</span>
<span>  <span class="va">sg_var_list</span>,</span>
<span>  <span class="va">sg_crit1_cutoff</span>,</span>
<span>  sg_crit2_pct <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  sg_crit3 <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sg_crit3_alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  sg_crit3_adjust <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sg_crit3_critical_value <span class="op">=</span> <span class="fl">2.776</span>,</span>
<span>  identify_sg_1to2 <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  crit123_details <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>A data set in wide format including an ID variable and variables for each measurement point.</p></dd>


<dt>id_var_name</dt>
<dd><p>String, specifying the name of the ID variable. Each row should have a unique value.</p></dd>


<dt>sg_var_list</dt>
<dd><p>Vector, specifying the variable names of each measurement point sequentially.</p></dd>


<dt>sg_crit1_cutoff</dt>
<dd><p>Numeric, specifying the negative cut-off value to be used for the first sudden losses criterion, see examples below.
The function <code><a href="define_crit1_cutoff.html">define_crit1_cutoff</a></code> can be used to calculate a cutoff value based on the Reliable Change Index (RCI; Jacobson &amp; Truax, 1991).
If set to <code>NULL</code> the first criterion wont be applied.</p></dd>


<dt>sg_crit2_pct</dt>
<dd><p>Numeric, specifying the percentage change to be used for the second sudden losses criterion.
If set to <code>NULL</code> the first criterion wont be applied.</p></dd>


<dt>sg_crit3</dt>
<dd><p>Logical, if set to <code>TRUE</code> the third criteria will be applied automatically adjusting the critical value for missingness.
If set to <code>FALSE</code> the third criterion wont be applied.</p></dd>


<dt>sg_crit3_alpha</dt>
<dd><p>Numeric, alpha for the student t-test (two-tailed) to determine the critical value to be used for the third criterion.
Degrees of freedom are based on the number of available data in the three sessions preceding the loss and the three sessions following the loss.</p></dd>


<dt>sg_crit3_adjust</dt>
<dd><p>Logical, specify whether critical value gets adjusted for missingness, see Lutz et al. (2013) and the documentation of this R package for further details.
This argument is set to <code>TRUE</code> by default adjusting the critical value for missingness as described in the package documentation and Lutz et al. (2013):
A critical value of 2.776 is used when all three data points before and after a potential gain are available,
where one data point is missing either before or after a potential gain a critical value of 3.182 is used,
and where one data point is missing both before and after the gain a critical value of 4.303 is used (for sg_crit3_alpha = 0.05).
If set to <code>FALSE</code> the critical value set in <code>sg_crit3_critical_value</code> will instead be used for all comparisons, regardless of missingnes in the sequence of data points that are investigated for potential sudden gains.</p></dd>


<dt>sg_crit3_critical_value</dt>
<dd><p>Numeric, if  the argument <code>sg_crit3_adjust = FALSE</code>, specifying the critical value to instead be used for all comparisons, regardless of missingnes in the sequence of data points that are investigated for potential sudden gains.</p></dd>


<dt>identify_sg_1to2</dt>
<dd><p>Logical, indicating whether to identify sudden losses from measurement point 1 to 2.
If set to TRUE, this implies that the first variable specified in <code>sg_var_list</code> represents a baseline measurement point, e.g. pre-intervention assessment.</p></dd>


<dt>crit123_details</dt>
<dd><p>Logical, if set to <code>TRUE</code> this function returns information about which of the three criteria (e.g. "sg_crit1_2to3", "sg_crit2_2to3", and "sg_crit3_2to3") are met for each session to session interval for all cases.
Variables named "sg_2to3", "sg_3to4" summarise all criteria that were selected to identify sudden gains.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A wide data set indicating whether sudden losses are present for each session to session interval for all cases in <code>data</code>.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Lutz, W., Ehrlich, T., Rubel, J., Hallwachs, N., Röttger, M.-A., Jorasz, C., … Tschitsaz-Stucki, A. (2013). The ups and downs of psychotherapy: Sudden gains and sudden losses identified with session reports. Psychotherapy Research, 23(1), 14–24. <a href="https://doi.org/10.1080/10503307.2012.693837" class="external-link">doi:10.1080/10503307.2012.693837</a>
.</p>
<p>Tang, T. Z., &amp; DeRubeis, R. J. (1999). Sudden gains and critical sessions in cognitive-behavioral therapy for depression. Journal of Consulting and Clinical Psychology, 67(6), 894–904. <a href="https://doi.org/10.1037/0022-006X.67.6.894" class="external-link">doi:10.1037/0022-006X.67.6.894</a>
.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Identify sudden losses</span></span></span>
<span class="r-in"><span><span class="fu">identify_sl</span><span class="op">(</span>data <span class="op">=</span> <span class="va">sgdata</span>,</span></span>
<span class="r-in"><span>            <span class="co"># Negative cut-off value to identify sudden losses</span></span></span>
<span class="r-in"><span>            sg_crit1_cutoff <span class="op">=</span> <span class="op">-</span><span class="fl">7</span>,</span></span>
<span class="r-in"><span>            id_var_name <span class="op">=</span> <span class="st">"id"</span>,</span></span>
<span class="r-in"><span>            sg_var_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bdi_s1"</span>, <span class="st">"bdi_s2"</span>, <span class="st">"bdi_s3"</span>,</span></span>
<span class="r-in"><span>                            <span class="st">"bdi_s4"</span>, <span class="st">"bdi_s5"</span>, <span class="st">"bdi_s6"</span>,</span></span>
<span class="r-in"><span>                            <span class="st">"bdi_s7"</span>, <span class="st">"bdi_s8"</span>, <span class="st">"bdi_s9"</span>,</span></span>
<span class="r-in"><span>                            <span class="st">"bdi_s10"</span>, <span class="st">"bdi_s11"</span>, <span class="st">"bdi_s12"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> First, second, and third sudden gains criteria were applied.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The critical value for the third criterion was adjusted for missingness.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 43 × 22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       id bdi_s1 bdi_s2 bdi_s3 bdi_s4 bdi_s5 bdi_s6 bdi_s7 bdi_s8 bdi_s9 bdi_s10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     1     35     37     34     23     24     21     29     17     11      11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     2     26     <span style="color: #BB0000;">NA</span>     26     <span style="color: #BB0000;">NA</span>     27     17     19     11     10       3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     3     35     38     35     37     36     37     <span style="color: #BB0000;">NA</span>     35     26      24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     4     31     30     32     22     22     20     21     19     24      33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     5     39     37     36     26     26     23     21     19      6       7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     6     37     <span style="color: #BB0000;">NA</span>     23     <span style="color: #BB0000;">NA</span>     23     21     <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>     19      <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     7     37     <span style="color: #BB0000;">NA</span>     23     21     <span style="color: #BB0000;">NA</span>     21     <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     8     41     37     <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     9     35     34     32     23     24     22     21     17     14      10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>    10     35     35     25     25     17     17     16     16     11       9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 33 more rows, and 11 more variables: bdi_s11 &lt;dbl&gt;, bdi_s12 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   sl_2to3 &lt;int&gt;, sl_3to4 &lt;int&gt;, sl_4to5 &lt;int&gt;, sl_5to6 &lt;int&gt;, sl_6to7 &lt;int&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   sl_7to8 &lt;int&gt;, sl_8to9 &lt;int&gt;, sl_9to10 &lt;int&gt;, sl_10to11 &lt;int&gt;</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Milan Wiedemann, Graham M Thew, Mental Health Research UK, Wellcome Trust.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

