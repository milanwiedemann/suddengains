<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Check if a given interval is a sudden gain/loss — check_interval • suddengains</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Check if a given interval is a sudden gain/loss — check_interval"><meta name="description" content="Checks if a specific session to session interval is a sudden gain/loss."><meta property="og:description" content="Checks if a specific session to session interval is a sudden gain/loss."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">suddengains</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/shinygains.html">shinygains: An interactive illustration of the suddengains R package</a></li>
    <li><a class="dropdown-item" href="../articles/suddengains-tutorial.html">A tutorial on using the suddengains R package</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/milanwiedemann/suddengains/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Check if a given interval is a sudden gain/loss</h1>
      <small class="dont-index">Source: <a href="https://github.com/milanwiedemann/suddengains/blob/main/R/check_interval.R" class="external-link"><code>R/check_interval.R</code></a></small>
      <div class="d-none name"><code>check_interval.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Checks if a specific session to session interval is a sudden gain/loss.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_interval</span><span class="op">(</span></span>
<span>  <span class="va">pre_values</span>,</span>
<span>  <span class="va">post_values</span>,</span>
<span>  <span class="va">sg_crit1_cutoff</span>,</span>
<span>  sg_crit2_pct <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  sg_crit3 <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sg_crit3_alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  sg_crit3_adjust <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sg_crit3_critical_value <span class="op">=</span> <span class="fl">2.776</span>,</span>
<span>  identify <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sg"</span>, <span class="st">"sl"</span><span class="op">)</span>,</span>
<span>  details <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-pre-values">pre_values<a class="anchor" aria-label="anchor" href="#arg-pre-values"></a></dt>
<dd><p>Vector, three pre gain/loss values to be checked for a sudden gain/loss (n-2, n-1, n)</p></dd>


<dt id="arg-post-values">post_values<a class="anchor" aria-label="anchor" href="#arg-post-values"></a></dt>
<dd><p>Vector, three post gain/loss values to be checked for a sudden gain/loss (n+1, n+2, n+3)</p></dd>


<dt id="arg-sg-crit-cutoff">sg_crit1_cutoff<a class="anchor" aria-label="anchor" href="#arg-sg-crit-cutoff"></a></dt>
<dd><p>Numeric, specifying the cut-off value to be used for the first sudden gains criterion.
The function <code><a href="define_crit1_cutoff.html">define_crit1_cutoff</a></code> can be used to calculate a cutoff value based on the Reliable Change Index (RCI; Jacobson &amp; Truax, 1991).
If set to <code>NULL</code> the first criterion wont be applied.</p></dd>


<dt id="arg-sg-crit-pct">sg_crit2_pct<a class="anchor" aria-label="anchor" href="#arg-sg-crit-pct"></a></dt>
<dd><p>Numeric, specifying the percentage change to be used for the second sudden gains/losses criterion.
If set to <code>NULL</code> the second criterion wont be applied.</p></dd>


<dt id="arg-sg-crit-">sg_crit3<a class="anchor" aria-label="anchor" href="#arg-sg-crit-"></a></dt>
<dd><p>If set to <code>TRUE</code> the third criterion will be applied automatically adjusting the critical value for missingness.
If set to <code>FALSE</code> the third criterion wont be applied.</p></dd>


<dt id="arg-sg-crit-alpha">sg_crit3_alpha<a class="anchor" aria-label="anchor" href="#arg-sg-crit-alpha"></a></dt>
<dd><p>Numeric, alpha for the student t-test (two-tailed) to determine the critical value to be used for the third criterion.
Degrees of freedom are based on the number of available data in the three sessions preceding the gain and the three sessions following the gain.</p></dd>


<dt id="arg-sg-crit-adjust">sg_crit3_adjust<a class="anchor" aria-label="anchor" href="#arg-sg-crit-adjust"></a></dt>
<dd><p>Logical, specify whether critical value gets adjusted for missingness, see Lutz et al. (2013) and the documentation of this R package for further details.
This argument is set to <code>TRUE</code> by default adjusting the critical value for missingness as described in the package documentation and Lutz et al. (2013):
A critical value of 2.776 is used when all three data points before and after a potential gain are available,
where one data point is missing either before or after a potential gain a critical value of 3.182 is used,
and where one data point is missing both before and after the gain a critical value of 4.303 is used.
If set to <code>FALSE</code> a critical value of 2.776 will instead be used for all comparisons, regardless of missingnes in the sequence of data points that are investigated for sudden gains.</p></dd>


<dt id="arg-sg-crit-critical-value">sg_crit3_critical_value<a class="anchor" aria-label="anchor" href="#arg-sg-crit-critical-value"></a></dt>
<dd><p>Numeric, specifying the critical value to instead be used for all comparisons, regardless of missingnes in the sequence of data points that are investigated for potential sudden gains.</p></dd>


<dt id="arg-identify">identify<a class="anchor" aria-label="anchor" href="#arg-identify"></a></dt>
<dd><p>String, specifying whether to identify sudden gains (<code>"sg"</code>) or sudden losses (<code>"sl"</code>).</p></dd>


<dt id="arg-details">details<a class="anchor" aria-label="anchor" href="#arg-details"></a></dt>
<dd><p>Logical, details yes no?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Information on whether a given interval is a sudden gain/loss</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Check interval for sudden gain using all 3 criteria</span></span></span>
<span class="r-in"><span><span class="co"># No missing data, alpha = 0.05</span></span></span>
<span class="r-in"><span><span class="fu">check_interval</span><span class="op">(</span>pre_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">32</span>, <span class="fl">31</span>, <span class="fl">33</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               post_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               sg_crit1_cutoff <span class="op">=</span> <span class="fl">7</span>,</span></span>
<span class="r-in"><span>               sg_crit2_pct <span class="op">=</span> <span class="fl">.25</span>,</span></span>
<span class="r-in"><span>               sg_crit3 <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>               sg_crit3_alpha <span class="op">=</span> <span class="fl">.05</span>,</span></span>
<span class="r-in"><span>               identify <span class="op">=</span> <span class="st">"sg"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> First, second, and third sudden gains criteria were applied.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The critical value for the thrid criterion was adjusted for missingness.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Check sudden gain</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 1: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 2: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 3: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Sudden gain: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Detailed output</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 1: Cut-off: 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 2: Percentage change threshhold: 25 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 3: Adjusted: YES, Critical value: 2.776</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Number of pre gain values present: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Number of post gain values present: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Mean of pre gain values: 32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Mean of post gain values: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## SD of pre gain values: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## SD of post gain values: 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># No missing data, alpha = 0.01</span></span></span>
<span class="r-in"><span><span class="fu">check_interval</span><span class="op">(</span>pre_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">32</span>, <span class="fl">31</span>, <span class="fl">33</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               post_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               sg_crit1_cutoff <span class="op">=</span> <span class="fl">7</span>,</span></span>
<span class="r-in"><span>               sg_crit2_pct <span class="op">=</span> <span class="fl">.25</span>,</span></span>
<span class="r-in"><span>               sg_crit3 <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>               sg_crit3_alpha <span class="op">=</span> <span class="fl">.01</span>,</span></span>
<span class="r-in"><span>               identify <span class="op">=</span> <span class="st">"sg"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> First, second, and third sudden gains criteria were applied.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The critical value for the thrid criterion was adjusted for missingness.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Check sudden gain</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 1: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 2: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 3: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Sudden gain: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Detailed output</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 1: Cut-off: 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 2: Percentage change threshhold: 25 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 3: Adjusted: YES, Critical value: 4.604</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Number of pre gain values present: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Number of post gain values present: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Mean of pre gain values: 32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Mean of post gain values: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## SD of pre gain values: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## SD of post gain values: 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check interval for sudden gain using only third criterion</span></span></span>
<span class="r-in"><span><span class="co"># Some missing data, alpha = 0.01</span></span></span>
<span class="r-in"><span><span class="fu">check_interval</span><span class="op">(</span>pre_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="fl">31</span>,<span class="fl">33</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               post_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="cn">NA</span>, <span class="fl">7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               sg_crit1_cutoff <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>               sg_crit2_pct <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>               sg_crit3 <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>               sg_crit3_alpha <span class="op">=</span> <span class="fl">.01</span>,</span></span>
<span class="r-in"><span>               identify <span class="op">=</span> <span class="st">"sg"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Third sudden gains criterion was applied.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The critical value for the thrid criterion was adjusted for missingness.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Check sudden gain</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 1: NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 2: NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 3: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Sudden gain: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Detailed output</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 1: Cut-off: Criterion 1 was not applied</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 2: Percentage change threshhold: Criterion 2 was not applied</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 3: Adjusted: YES, Critical value: 9.925</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Number of pre gain values present: 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Number of post gain values present: 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Mean of pre gain values: 32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Mean of post gain values: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## SD of pre gain values: 1.414</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## SD of post gain values: 1.414</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check interval for sudden loss using all three criteria</span></span></span>
<span class="r-in"><span><span class="co"># Some missing data, alpha = 0.05</span></span></span>
<span class="r-in"><span><span class="fu">check_interval</span><span class="op">(</span>pre_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="cn">NA</span>, <span class="fl">7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               post_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">12</span>, <span class="fl">14</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               sg_crit1_cutoff <span class="op">=</span> <span class="op">-</span><span class="fl">7</span>,</span></span>
<span class="r-in"><span>               sg_crit2_pct <span class="op">=</span> <span class="fl">.25</span>,</span></span>
<span class="r-in"><span>               sg_crit3 <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>               sg_crit3_alpha <span class="op">=</span> <span class="fl">.05</span>,</span></span>
<span class="r-in"><span>               identify <span class="op">=</span> <span class="st">"sl"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> First, second, and third sudden gains criteria were applied.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The critical value for the thrid criterion was adjusted for missingness.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Check sudden loss</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 1: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 2: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Met Criterion 3: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Sudden loss: YES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Detailed output</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 1: Cut-off: -7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 2: Percentage change threshhold: 25 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Criterion 3: Adjusted: YES, Critical value: 3.182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Number of pre gain values present: 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Number of post gain values present: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Mean of pre gain values: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Mean of post gain values: 14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## SD of pre gain values: 1.414</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## SD of post gain values: 2</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Milan Wiedemann, Graham M Thew, Mental Health Research UK, Wellcome Trust.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

